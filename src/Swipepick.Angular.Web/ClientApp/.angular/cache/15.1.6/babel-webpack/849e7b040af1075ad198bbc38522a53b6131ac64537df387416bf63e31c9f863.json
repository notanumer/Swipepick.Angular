{"ast":null,"code":"import { FormControl, FormGroup, Validators } from \"@angular/forms\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../shared/services/auth-api.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction AuthPageComponent_form_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"form\", 9);\n    i0.ɵɵlistener(\"ngSubmit\", function AuthPageComponent_form_10_Template_form_ngSubmit_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.loginSubmit());\n    });\n    i0.ɵɵelementStart(1, \"div\", 10)(2, \"div\", 11)(3, \"label\", 12);\n    i0.ɵɵtext(4, \"\\u0412\\u0430\\u0448 E-mail\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"input\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 11)(7, \"label\", 14);\n    i0.ɵɵtext(8, \"\\u0412\\u0430\\u0448 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(9, \"input\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"button\", 16);\n    i0.ɵɵtext(11, \"\\u0412\\u041E\\u0419\\u0422\\u0418\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"formGroup\", ctx_r0.formLogin);\n  }\n}\nfunction AuthPageComponent_ng_template_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"form\", 9);\n    i0.ɵɵlistener(\"ngSubmit\", function AuthPageComponent_ng_template_11_Template_form_ngSubmit_0_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.registerSubmit());\n    });\n    i0.ɵɵelementStart(1, \"div\", 10)(2, \"div\", 11)(3, \"label\", 17);\n    i0.ɵɵtext(4, \"\\u0412\\u0430\\u0448 E-mail\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"input\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 11)(7, \"label\", 19);\n    i0.ɵɵtext(8, \"\\u041F\\u0440\\u0438\\u0434\\u0443\\u043C\\u0430\\u0439\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(9, \"input\", 20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 11)(11, \"label\", 21);\n    i0.ɵɵtext(12, \"\\u0412\\u0430\\u0448\\u0435 \\u0438\\u043C\\u044F\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(13, \"input\", 22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"div\", 11)(15, \"label\", 23);\n    i0.ɵɵtext(16, \"\\u0412\\u0430\\u0448\\u0430 \\u0444\\u0430\\u043C\\u0438\\u043B\\u0438\\u044F\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(17, \"input\", 24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"button\", 16);\n    i0.ɵɵtext(19, \"\\u0417\\u0410\\u0420\\u0415\\u0413\\u0418\\u0421\\u0422\\u0420\\u0418\\u0420\\u041E\\u0412\\u0410\\u0422\\u042C\\u0421\\u042F\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"formGroup\", ctx_r2.formRegister);\n  }\n}\nconst _c0 = function () {\n  return [\"/\"];\n};\nconst _c1 = function (a0, a1) {\n  return {\n    button_switch: a0,\n    button_switch_activated: a1\n  };\n};\nexport class AuthPageComponent {\n  constructor(auth, router, route) {\n    this.auth = auth;\n    this.router = router;\n    this.route = route;\n    this.isLogin = true;\n    this.submitted = false;\n  }\n  ngOnInit() {\n    this.formLogin = new FormGroup({\n      emailLogin: new FormControl(null, [Validators.required, Validators.email]),\n      passwordLogin: new FormControl(null, [Validators.required, Validators.minLength(6)])\n    });\n    this.formRegister = new FormGroup({\n      emailRegister: new FormControl(null, [Validators.required, Validators.email]),\n      passwordRegister: new FormControl(null, [Validators.required, Validators.minLength(6)]),\n      nameRegister: new FormControl(null, []),\n      lastnameRegister: new FormControl(null, [])\n    });\n  }\n  loginSubmit() {\n    if (this.formLogin.invalid) {\n      return;\n    }\n    this.submitted = true;\n    const user = {\n      email: this.formLogin.value.emailLogin,\n      password: this.formLogin.value.passwordLogin\n    };\n    this.auth.login(user).subscribe(() => {\n      this.formLogin.reset();\n      this.submitted = false;\n    }, () => {\n      this.submitted = false;\n    });\n  }\n  registerSubmit() {\n    if (this.formRegister.invalid) {\n      return;\n    }\n    const user = {\n      email: this.formLogin.value.emailRegister,\n      password: this.formLogin.value.passwordRegister,\n      name: this.formLogin.value.nameRegister,\n      lastname: this.formLogin.value.lastnameRegister\n    };\n    this.auth.register(user).subscribe(r => {\n      console.log(r);\n      this.formLogin.reset();\n      this.submitted = false;\n    }, () => {\n      this.submitted = false;\n    });\n  }\n}\nAuthPageComponent.ɵfac = function AuthPageComponent_Factory(t) {\n  return new (t || AuthPageComponent)(i0.ɵɵdirectiveInject(i1.AuthApiService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n};\nAuthPageComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AuthPageComponent,\n  selectors: [[\"app-auth-page\"]],\n  decls: 13,\n  vars: 12,\n  consts: [[1, \"background\"], [1, \"form_wrapper\"], [\"href\", \"/\", 1, \"logo\", 3, \"routerLink\"], [\"src\", \"./assets/images/logo2.svg\", \"alt\", \"logo\"], [1, \"login_form\"], [1, \"button_wrapper\"], [3, \"ngClass\", \"click\"], [3, \"formGroup\", \"ngSubmit\", 4, \"ngIf\", \"ngIfElse\"], [\"registrationFormBlock\", \"\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"registration_inputs\"], [1, \"input_wrapper\"], [\"for\", \"emailLogin\"], [\"id\", \"emailLogin\", \"type\", \"email\", \"formControlName\", \"emailLogin\", 1, \"input\"], [\"for\", \"passwordLogin\"], [\"id\", \"passwordLogin\", \"type\", \"password\", \"formControlName\", \"passwordLogin\", 1, \"input\"], [\"type\", \"submit\", 1, \"send_button\"], [\"for\", \"emailRegister\"], [\"id\", \"emailRegister\", \"type\", \"email\", \"formControlName\", \"emailRegister\", 1, \"input\"], [\"for\", \"passwordRegister\"], [\"id\", \"passwordRegister\", \"type\", \"password\", \"formControlName\", \"passwordRegister\", 1, \"input\"], [\"for\", \"nameRegister\"], [\"id\", \"nameRegister\", \"type\", \"text\", \"formControlName\", \"nameRegister\", 1, \"input\"], [\"for\", \"lastnameRegister\"], [\"id\", \"lastnameRegister\", \"type\", \"text\", \"formControlName\", \"lastnameRegister\", 1, \"input\"]],\n  template: function AuthPageComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"a\", 2);\n      i0.ɵɵelement(3, \"img\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\", 4)(5, \"div\", 5)(6, \"button\", 6);\n      i0.ɵɵlistener(\"click\", function AuthPageComponent_Template_button_click_6_listener() {\n        return ctx.isLogin = true;\n      });\n      i0.ɵɵtext(7, \"\\u0412\\u0425\\u041E\\u0414\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"button\", 6);\n      i0.ɵɵlistener(\"click\", function AuthPageComponent_Template_button_click_8_listener() {\n        return ctx.isLogin = false;\n      });\n      i0.ɵɵtext(9, \"\\u0420\\u0415\\u0413\\u0418\\u0421\\u0422\\u0420\\u0410\\u0426\\u0418\\u042F\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(10, AuthPageComponent_form_10_Template, 12, 1, \"form\", 7);\n      i0.ɵɵtemplate(11, AuthPageComponent_ng_template_11_Template, 20, 1, \"ng-template\", null, 8, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(12);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(5, _c0));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(6, _c1, !ctx.isLogin, ctx.isLogin));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(9, _c1, ctx.isLogin, !ctx.isLogin));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.isLogin)(\"ngIfElse\", _r1);\n    }\n  },\n  dependencies: [i3.NgClass, i3.NgIf, i2.RouterLink, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.FormGroupDirective, i4.FormControlName],\n  styles: [\".background[_ngcontent-%COMP%]{background-color:#8cacd0;min-height:100vh;padding:30px 0}.login_form[_ngcontent-%COMP%]{background-color:#fff;border-radius:14px;margin-top:10px}.button_wrapper[_ngcontent-%COMP%]{background-color:#ddeaee;border-radius:14px}.registration_inputs[_ngcontent-%COMP%]{display:grid;grid-template-columns:450px;gap:25px;margin-top:25px}.button_switch[_ngcontent-%COMP%]{background-color:#ddeaee;font-family:Oswald;color:#42445a;font-weight:700;font-size:22px;border-radius:14px;width:225px;height:64px}.button_switch_activated[_ngcontent-%COMP%]{background-color:#ddeaee;font-family:Oswald;color:#42445a;font-weight:700;font-size:22px;border-radius:14px;width:225px;height:70px;border:10px solid #42445A}.send_button[_ngcontent-%COMP%]{background-color:#42445a;font-family:Oswald;font-weight:700;font-size:20px;color:#ddeaee;border-radius:14px;height:54px}.send_button[_ngcontent-%COMP%]:hover{background-color:#ddeaee;color:#42445a}.input_wrapper[_ngcontent-%COMP%]{display:grid;font-size:20px;grid-template-columns:350px;margin:auto}.form_wrapper[_ngcontent-%COMP%]{margin:auto;width:450px}.logo[_ngcontent-%COMP%]{margin:106.5px}.input[_ngcontent-%COMP%]{background-color:#ddeaee;font-family:Oswald;font-size:18px;color:#42445a;height:54px;border-radius:14px;border:3px solid #42445A;padding-left:10px}.input[_ngcontent-%COMP%]:focus{border-color:#8cacd0}\"]\n});","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}